# Regenerate bindings with `dart run ffigen --config ffigen.yaml`.
name: LightningDbBindings
description: Lightning DB native library bindings
output: 'lib/src/native/lightning_db_bindings.dart'
headers:
  entry-points:
    - 'src/lightning_db_ffi_dart.h'
  include-directives: # Only generate bindings for our header
    - 'src/lightning_db_ffi_dart.h'
preamble: |
  // AUTO-GENERATED FILE. DO NOT MODIFY.
  // 
  // Generated by `dart run ffigen`.
  // Regenerate bindings with `dart run ffigen --config ffigen.yaml`.
  // 
  // ignore_for_file: always_specify_types
  // ignore_for_file: camel_case_types
  // ignore_for_file: non_constant_identifier_names
comments:
  style: any
  length: full
compiler-opts:
  - '-I./src'
  - '-DFFI_GEN'
sort: true
functions:
  include:
    - 'lightning_db_.*'
    - '_force_enum_inclusion'
  exclude:
    - '_.*' # exclude internal functions
  symbol-address:
    include:
      - 'lightning_db_.*'
structs:
  include:
    - 'ByteResult'
    - 'KeyValueResult'
  exclude:
    - '_.*'
globals:
  exclude:
    - '_.*'
unions:
  exclude:
    - '_.*'
enums:
  include:
    - 'ErrorCode'
    - 'ConsistencyLevel' 
    - 'WalSyncMode'
    - 'CompressionType'
  exclude:
    - '_.*'
typedefs:
  include:
    - 'DatabaseHandle'
    - 'TransactionHandle'
    - 'IteratorHandle'
macros:
  include:
    - 'FFI_PLUGIN_EXPORT'
  exclude:
    - '_.*'